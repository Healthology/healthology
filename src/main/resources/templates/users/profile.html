<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head th:replace="fragment/header :: main-header">
<!--need to add header tag here-->
</head>
<body>

<div th:include="fragment/navbar.html :: main-nav"></div>

<h1>username: <span th:text="${user.username}">user</span></h1>

<h1> About Me: </h1>
<p th:text="${user.about_me}"></p>

<button type="button" data-toggle="modal" data-target="#myModal">Edit Profile</button>

<div class="edit-modal modal" id="myModal" tabindex="-1" role="dialog">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">About Me:</h5>
                <button type="button" class="edit-modal-close close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <form th:action="@{/edit}" th:method="POST" th:object="${user}">
            <div class="modal-body">
                <div class="form-row mt-1">
                    <label for="about_me">About Me:</label>
                    <input class="form-control" id="about_me" name="aboutMe" type ="text" th:field="*{about_me}"
                           placeholder="Tell us about you...">
                </div>
            </div>
            <div class="modal-footer">
                <button type="submit" class="btn btn-primary form-control mt-3">Save Edits</button>
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
            </div>
            </form>
        </div>
    </div>
</div>

<div class="container">
    <h1>Journal Entries:</h1>
    <div class="card text-center mt-2"  th:each="journal: ${journals}">
        <div class="card-body">
            <h5 class="card-title">
                <span th:text="${journal.title}"></span></a>
            </h5>
            <p>Posted on <span th:text="${journal.date}">date goes here</span></p>
            <p class="card-text" th:text="${journal.entry}"></p>
        </div>
    </div>
</div>

<!--will trigger modal-->
<!--<button class="add-journal">Add a New Journal Entry</button>-->


<!--<div class="add-modal modal myModal">-->
<!--    <div class="modal-background"></div>-->
<!--    <div class="modal-content">-->
<!--        <form th:action="@{/journal/create}" th:method="POST" th:object="${journal}">-->
<!--            <div class="form-row mt-1">-->
<!--                <label for="title">Title</label>-->
<!--                <input class="form-control" id="title" type ="text" th:field="*{title}" placeholder="Enter title">-->
<!--            </div>-->
<!--            <div class="form-row mt-1">-->
<!--                <label for="body">Body</label>-->
<!--                <textarea class="form-control" id="body" th:field="*{entry}" placeholder="Enter body"></textarea>-->
<!--            </div>-->
<!--            <div class="form-row mt-1">-->
<!--                <label for="rating">Rating</label>-->
<!--                <input class="form-control" id="rating" th:field="*{rating}" placeholder="Enter body">-->
<!--            </div>-->
<!--            <div class="form-row mt-1">-->
<!--                <label for="date">Date (YYYY-MM-DD) </label>-->
<!--                <input class="form-control" id="date" th:field="*{date}" placeholder="Enter body">-->
<!--            </div>-->
<!--            <button type="submit" class="btn btn-primary form-control mt-3">Create Journal Entry</button>-->
<!--        </form>-->
<!--    </div>-->
<!--    <button class="add-modal-close is-large" aria-label="close"></button>-->
<!--</div>-->

<th:block th:replace="fragment/scripts :: scripts" />
</body>
</html>