<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.8.0/css/bulma.min.css">
    <meta charset="UTF-8" name="viewport" content="width=device-width, initial-scale=1">
    <title>Title</title>
<!--need to add header tag here-->
</head>
<body>

<div th:include="fragment/navbar.html :: main-nav"></div>

<h1>username: <span th:text="${user.username}">user</span></h1>

<h1> ABout Me: </h1>
<p th:text="${user.about_me}"></p>

<button class="edit-profile">Edit Profile</button>

<div class="edit-modal modal myModal">
    <div class="modal-background"></div>
    <div class="modal-content">
        <form th:action="@{/edit}" th:method="POST" th:object="${user}">
            <div class="form-row mt-1">
                <label for="about_me">About Me:</label>
                <input class="form-control" id="about_me" name="aboutMe" type ="text" th:field="*{about_me}"
                       placeholder="Tell us about you...">
            </div>
            <button type="submit" class="btn btn-primary form-control mt-3">Save Edits</button>
        </form>
    </div>
    <button class="edit-modal-close is-large" aria-label="close"></button>
</div>

<div class="container">
    <h1>Journal Entries:</h1>
    <div class="card text-center mt-2"  th:each="journal: ${journals}">
        <div class="card-body">
            <h5 class="card-title">
                <span th:text="${journal.title}"></span></a>
            </h5>
            <p>Posted on <span th:text="${journal.date}">date goes here</span></p>
            <p class="card-text" th:text="${journal.entry}"></p>
        </div>
    </div>
</div>

<!--will trigger modal-->
<button class="add-journal">Add a New Journal Entry</button>


<div class="add-modal modal myModal">
    <div class="modal-background"></div>
    <div class="modal-content">
        <form th:action="@{/journal/create}" th:method="POST" th:object="${journal}">
            <div class="form-row mt-1">
                <label for="title">Title</label>
                <input class="form-control" id="title" type ="text" th:field="*{title}" placeholder="Enter title">
            </div>
            <div class="form-row mt-1">
                <label for="body">Body</label>
                <textarea class="form-control" id="body" th:field="*{entry}" placeholder="Enter body"></textarea>
            </div>
            <div class="form-row mt-1">
                <label for="rating">Rating</label>
                <input class="form-control" id="rating" th:field="*{rating}" placeholder="Enter body">
            </div>
            <div class="form-row mt-1">
                <label for="date">Date (YYYY-MM-DD) </label>
                <input class="form-control" id="date" th:field="*{date}" placeholder="Enter body">
            </div>
            <button type="submit" class="btn btn-primary form-control mt-3">Create Journal Entry</button>
        </form>
    </div>
    <button class="add-modal-close is-large" aria-label="close"></button>
</div>


<script defer src="https://use.fontawesome.com/releases/v5.3.1/js/all.js"></script>
â€‹<script src="https://code.jquery.com/jquery-2.2.4.min.js" integrity="sha256-BbhdlvQf/xTY9gja0Dq3HiwQF8LaCRTXxZKRutelT44=" crossorigin="anonymous"></script>
<script>
    
    $(".add-journal").click(function() {
        $(".add-modal").addClass("is-active");
    });
    $(".add-modal-close").click(function() {
        $(".add-modal").removeClass("is-active");
    });
    
</script>
<script>
    
    $(".edit-profile").click(function() {
        $(".edit-modal").addClass("is-active");
    });
    $(".edit-modal-close").click(function() {
        $(".edit-modal").removeClass("is-active");
    });
</script>
</body>
</html>